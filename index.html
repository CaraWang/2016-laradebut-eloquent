<!DOCTYPE html>
<html lang="en">
<head>
	<title>API Survey #2 - Firebase Realtime Database</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="node_modules/shower-ribbon/styles/screen-16x10.css">
</head>
<body class="shower list">
	<header class="caption">
		<h1>API Survey #2 - Firebase Realtime Database</h1>
		<p>Cara Wang &lt;caraw@cnyes.com&gt;</p>
	</header>
	<section class="slide" id="cover">
		<h2>API Survey #2</h2>
		<h3>Firebase Realtime Database</h3>
		<div class="author">
			<p>@author Cara Wang &lt;caraw@cnyes.com&gt;</p>
			<p>@since 2016/11/24</p>
		</div>
		<img src="pictures/cover.jpeg" class="cover">
		<style>
			#cover h2 {
				margin: 14% 0 0;
				padding: 10px;
				color:#f0fcfe;
				text-align:center;
				font-size:60px;
				border-width: 5px;
				border-color: #f0fcfe;
				border-top-style: solid;
				border-bottom-style: solid;
				}
			#cover h3 {
				margin: 18% 0 0;
				color:#f0fcfe;
				text-align:center;
				font-size:30px;
				}
			.author {
				margin:10px 230px 0;
				color:#f0fcfe;
				font-style:italic;
				font-size:20px;
				}
				.author p {
					line-height: 10px;
					text-align:left;
					}
				.author p a {
					color:#f0fcfe;
					}
			#cover img {
				opacity: 0.9;
			}
		</style>
	</section>
	<section class="slide">
		<h2>The Goal of API Survey</h2>
		<ol>
			<li class="next">Analyze the design of public API ( compare to the principle of RESTful API)
				<ol>
					<li class="next">Request path / Response format, etc…</li>
				</ol>
			</li>
			<li class="next">Analyze the pros. and cros.</li>
			<li class="next">Playground (optional)</li>
			<li class="next">Feedback to our API design and implementation</li>
		</ol>
		<style>
			ol ol {
				list-style-type: disc;
			}
			.slide ol ol>li::before {
				content: '';
			}
		</style>
	</section>
	<section class="slide">
		<h2>What is RESTful API ?</h2>
		<ol>
			<li class="next">符合 REST 架構設計的 API</li>
			<li class="next">符合: 七大目標所衍伸出來的五大特徵</li>
		</ol>
		<style>
			ol ol {
				list-style-type: disc;
			}
			.slide ol ol>li::before {
				content: '';
			}
		</style>
	</section>
	<section class="slide">
		<h2>Review: What is REST ?</h2>
		<ol>
			<li class="next"><a href="http://whatisrest.com/">http://whatisrest.com/</a></li>
			<li class="next">The 7 goals for implement RESTful API:
				<ol>
					<li class="next"><mark>Simplicity</mark></li>
					<li class="next">Scalability</li>
					<li class="next">Reliability</li>
					<li class="next">Performance</li>
					<li class="next">Modifiability</li>
					<li class="next">Visibility</li>
					<li class="next">Portability</li>
				</ol>
			</li>
		</ol>
		<style>
			ol ol {
				list-style-type: disc;
			}
			.slide ol ol>li::before {
				content: '';
			}
		</style>
	</section>
	<section class="slide">
		<h2>Review: What is REST ?</h2>
		<ol>
			<li>
				<mark>Simplicity</mark>
				<ol>
					<li class="next">分工，各個單元的複雜度要低</li>
				</ol>
			</li>
			<li>
				Scalability
				<ol>
					<li class="next">可以應付服務需求量暴增的情況</li>
				</ol>
			</li>
			<li>
				Reliability
				<ol>
					<li class="next">接受架構中部分損壞而不影響服務</li>
				</ol>
			</li>
			<li>
				Performance
				<ol>
					<li class="next">不受網路傳輸影響回傳結果</li>
				</ol>
			</li>
		</ol>
		<style>
			ol ol {
				list-style-type: disc;
			}
			.slide ol ol>li::before {
				content: '';
			}
		</style>
	</section>
	<section class="slide">
		<h2>Review: What is REST ?</h2>
		<ol>
			<li>
				Modifiability
				<ol>
					<li class="next">對部分架構做更動而不影響服務</li>
				</ol>
			</li>
			<li>Visibility
				<ol>
					<li class="next">在傳輸過程中也可以看出所請求的服務是什麼</li>
				</ol>
			</li>
			<li>
				Portability
				<ol>
					<li class="next">可以更換部署地點而不影響服務</li>
				</ol>
			</li>
		</ol>
		<style>
			ol ol {
				list-style-type: disc;
			}
			.slide ol ol>li::before {
				content: '';
			}
		</style>
	</section>
	<section class="slide">
		<h2>Review: What is REST ?</h2>
		<ol>
			<li class="next">The 5 constraints (or characteristics):
				<ol>
					<li class="next">
						Client-Server
						<ol class="next">
							<li>Scalability</li>
							<li>Modifiability</li>
						</ol>
					</li>
					<li class="next">
						Layered System
						<ol class="next">
							<li>Scalability</li>
							<li>Modifiability</li>
							<li>Visibility</li>
							<li><mark>Simplicity</mark></li>
						</ol>
					</li>
				</ol>
			</li>
		</ol>
		<style>
			ol ol {
				list-style-type: disc;
			}
			.slide ol ol>li::before {
				content: '';
			}
		</style>
	</section>
	<section class="slide">
		<h2>Review: What is REST ?</h2>
		<ol>
			<li>The 5 constraints (or characteristics):
				<ol>
					<li class="next">
						Interface / Uniform Contract
						<ol class="next">
							<li><mark>Simplicity</makr></li>
							<li>Modifiability</li>
							<li>Visibility</li>
						</ol>
					</li>
					<li class="next">
						Stateless
						<ol class="next">
							<li>Scalability</li>
							<li>Modifiability</li>
							<li>Visibility</li>
							<li>Reliability</li>
						</ol>
					</li>
				</ol>
			</li>
		</ol>
		<style>
			ol ol {
				list-style-type: disc;
			}
			.slide ol ol>li::before {
				content: '';
			}
		</style>
	</section>
	<section class="slide">
		<h2>Review: What is REST ?</h2>
		<ol>
			<li>The 5 constraints (or characteristics):
				<ol>
					<li class="next">
						Cache
						<ol class="next">
							<li>Scalability</li>
							<li>Performance</li>
						</ol>
					</li>
				</ol>
			</li>
		</ol>
		<style>
			ol ol {
				list-style-type: disc;
			}
			.slide ol ol>li::before {
				content: '';
			}
		</style>
	</section>
	<section class="slide">
		<h2>The Effection to the API Design</h2>
		<h3 class="next">Interface / Uniform Contract</h3>
		<ol>
			<li class="next">HTTP Varbs</li>
		</ol>
		<table class="next">
			<tr>
				<th scope="col">Method</th>
				<th>Verb</th>
				<th>Description</th>
			</tr>
			<tr class="next">
				<td>GET</td>
				<td>Read</td>
				<td>Read one or more specific resource(s)</td>
			</tr>
			<tr class="next">
				<td>POST</td>
				<td>Create</td>
				<td>Create one or more specific resource(s)</td>
			</tr>
			<tr class="next">
				<td>PUT / PATCH</td>
				<td>Update</td>
				<td>Update one or more specific resource(s)</td>
			</tr>
			<tr class="next">
				<td>DELETE</td>
				<td>Remove</td>
				<td>Remove one or more specific resource(s)</td>
			</tr>
		</table>
	</section>
	<section class="slide">
		<h2>The Effection to the API Design</h2>
		<h3>Interface / Uniform Contract</h3>
		<ol>
			<li class="next">Resource Name</li>
		</ol>
		<pre>
			<code class="next">GET /users</code>
			<code class="next">GET /user<mark>s</mark>/1</code>
			<code class="next">POST /news</code>
			<code class="next">PUT /news/1</code>
			<code class="next">DELETE /users/1/news/1 <span class="next">??</span></code>
			<code class="next">DELETE /news/1 # Simplicity</code>
			<code class="next">DELETE /news/1,2,3</code>
		</pre>
		<style>
			.slide pre code {
				font-size: 0.8em;
			}
		</style>
	</section>
	<section class="slide">
		<h2>The Effection to the API Design</h2>
		<h3>Interface / Uniform Contract</h3>
		<ol>
			<li class="next">
				HTTP Response
				<ol>
					<li class="next">2xx: Success</li>
					<li class="next">3xx: Redirection</li>
					<li class="next">4xx: Client Errors</li>
					<li class="next">5xx: Service Errors</li>
				</ol>
			</li>
			<li class="next"><a href="http://www.restapitutorial.com/httpstatuscodes.html">http://www.restapitutorial.com/httpstatuscodes.html</a></li>
		</ol>
	</section>
	<section class="slide">
		<h2>The Effection to the API Design</h2>
		<h3>Interface / Uniform Contract</h3>
		<ol>
			<li class="next">
				Response Payload
				<ol>
					<li class="next">Error Message</li>
					<li class="next">Pagination</li>
					<li class="next">...</li>
				</ol>
			</li>
		</ol>
	</section>
	<section class="slide">
		<h2>The Effection to the API Design</h2>
		<ol class="next"><li>Idempotent: <span class="next">Can do it over and over again without causing different results</span></li></ol>
		<table class="next">
			<tr>
				<th scope="col">Method</th>
				<th>Idempotent</th>
			</tr>
			<tr class="next">
				<td>GET</td>
				<td>Yes</td>
			</tr>
			<tr class="next">
				<td>POST</td>
				<td>No</td>
			</tr>
			<tr class="next">
				<td>PUT</td>
				<td>Yes</td>
			</tr>
			<tr class="next">
				<td>PATCH</td>
				<td>No</td>
			</tr>
			<tr class="next">
				<td>DELETE</td>
				<td>Yes</td>
			</tr>
		</table>
		<a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html">https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html</a>
	</section>
	<section class="slide">
		<h2>Firebase</h2>
		<h3 class="next">Founded on Apr 6, 2011</h3>
		<img class="cover next" src="pictures/acquiredByGoogle.png">
	</section>
	<section class="slide">
		<h2>Firebase Realtime Database API</h2>
		<h3 class="next">HTTP Method</h3>
		<table class="next">
			<tr>
				<th scope="col">Method</th>
				<th>Firebase</th>
				<th>RESTful API</th>
			</tr>
			<tr class="next">
				<td>GET</td>
				<td>Reading Data</td>
				<td>Read</td>
			</tr>
			<tr class="next">
				<td>POST</td>
				<td><mark>Pushing Data</mark></td>
				<td>Create</td>
			</tr>
			<tr class="next">
				<td>PUT</td>
				<td><mark>Writing Data</mark></td>
				<td>Update</td>
			</tr>
			<tr class="next">
				<td>PATCH</td>
				<td>Updating Data</td>
				<td>Update</td>
			</tr>
			<tr class="next">
				<td>DELETE</td>
				<td>Removing Data</td>
				<td>Remove</td>
			</tr>
		</table>
	</section>
	<section class="slide">
		<h2>Firebase Realtime Database API</h2>
		<ol>
			<li class="next">Resource Name</li>
		</ol>
		<pre class="next">
			<code>https://{your-project-name}.firebaseio.com</code>
			<code>/{your-firebase-model-lv-1}</code>
			<code>/{your-firebase-model-lv-2}</code>
			<code>...</code>
			<code>.json</code>
		</pre>
	</section>
	<section class="slide">
		<img src="pictures/curlget.png" class="cover">
	</section>
	<section class="slide">
		<img src="pictures/curlput.png" class="cover">
	</section>
	<section class="slide">
		<img src="pictures/curlpost.png" class="cover">
	</section>
	<section class="slide">
		<img src="pictures/curldelete.png" class="cover">
	</section>
	<section class="slide">
		<img src="pictures/curlpatch.png" class="cover">
	</section>
	<section class="slide">
		<h2>Firebase Realtime Database API</h2>
		<ol>
			<li class="next">
				HTTP Status Code
				<ol>
					<li class="next">Success: 200 OK</li>
			</li>
		</ol>
	</section>
	<section class="slide">
		<img src="pictures/statuscode200.png" class="cover">
	</section>
	<section class="slide">
		<h2>Firebase Realtime Database API</h2>
		<ol>
			<li>
				HTTP Status Code
				<ol>
					<li>Success: 200 OK</li>
					<li class="next">Error:</li>
				</ol>
			</li>
		</ol>
		<img src="pictures/errorcode.png" class="next place bottom right">
	</section>
	<section class="slide">
		<img src="pictures/curlerror.png" class="cover">
	</section>
	<section class="slide">
		<img src="pictures/curlerror1.png" class="cover">
	</section>
	<section class="slide">
		<img src="pictures/curlerror2.png" class="cover">
	</section>
	<section class="slide">
		<h2>Firebase Realtime Database API</h2>
		<ol>
			<li>
				Response Payload
				<ol>
					<li class="next">Success:</li>
				</ol>
			</li>
		</ol>
	</section>
	<section class="slide">
		<img src="pictures/payloadget.png" class="cover">
	</section>
	<section class="slide">
		<img src="pictures/payloadput.png" class="cover">
	</section>
	<section class="slide">
		<img src="pictures/payloadpatch.png" class="cover">
	</section>
	<section class="slide">
		<img src="pictures/payloadpost.png" class="cover">
	</section>
	<section class="slide">
		<img src="pictures/payloaddelete.png" class="cover">
	</section>
	<section class="slide">
		<h2>Firebase Realtime Database API</h2>
		<ol>
			<li>
				Response Payload
				<ol>
					<li>Success:</li>
					<li class="next">Error:</li>
				</ol>
			</li>
		</ol>
	</section>
	<section class="slide">
		<img src="pictures/payloaderror.png" class="cover">
	</section>
	<section class="slide">
		<h2>Pros and Cons</h2>
		<ol>
			<li class="next">
				Pros
				<ol>
					<li class="next">使用 HTTP Status Code 做溝通</li>
					<li class="next">一致用 200 代表成功，不會有其他 2xx 的可能</li>
					<li class="next">Payload 有 error 的 Key 時，HTTP Status Code 必定不是 2xx</li>
				</ol>
			</li>
		</ol>
	</section>
	<section class="slide">
		<img src="pictures/payloaderrorconsist.png" class="cover">
	</section>
	<section class="slide">
		<h2>Pros and Cons</h2>
		<ol>
			<li>
				Pros
				<ol>
					<li>使用 HTTP Status Code 做溝通</li>
					<li>Payload 有 error 的 Key 時，HTTP Status Code 必定不是 2xx</li>
					<li>一致用 200 代表成功，不會有其他 2xx 的可能</li>
				</ol>
			</li>
			<li class="next">
				Cons
				<ol>
					<li class="next">Response Payload 沒有一致的格式，一旦後台 Key 值更動，則前台會直接因為找不到 Key 而出錯</li>
				</ol>
			</li>
		</ol>
	</section>
	<section class="slide" id="end">
		<h2>Q & A</h2>
		<img src="pictures/end.jpg" alt="" class="cover">
		<!--
			To apply styles to the certain slides
			set slide ID to get needed elements
			-->
		<style>
			#end h2 {
				margin: 350px 0 0;
				padding: 10px;
				color:#DB2F13;
				text-align:right;
				font-size:60px;
				}
		</style>
	</section>
	<p class="badge">
		<a href="https://github.com/CaraWang/2016-talk-cnyes-elasticsearch">Fork me on GitHub</a>
	</p>
	<!--
		To hide progress bar from entire presentation
		just remove “progress” element.
		-->
	<div class="progress"></div>
	<script src="node_modules/shower-core/shower.min.js"></script>
	<!-- Copyright © 2015 Yours Truly, Famous Inc. -->
	<!-- Photos by John Carey, fiftyfootshadows.net -->
</body>
</html>
